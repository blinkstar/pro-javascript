### 指定匹配位置

正如前面所介绍的，正则表达式中的多个元素才能够匹配字符串的一个字符。  
例如，`\s` 匹配的只是一个空白符。  

**还有一些正则表达式的元素匹配的是字符之间的位置，而不是实际的字符。**  

例如，`\b`匹配一个单词的边界，  
即位于 `\w` (ASCII 单词) 字符和 `\W` (非 ASCII 单词)之间的边界，  
或位于一个 ASCII单词与字符串的**开始**或**结尾**之间的边界。  

像 `\b` 这样的元素不匹配某个可见的字符，它们指定匹配发生的合法位置。  

**有时我们称这些元素为正则表达式的锚**，因为它们将模式定位在搜索字符串的特定位置上。

最常用的锚元素是 `^` ，它用来匹配字符串的**开始**，锚元素 `$` 用以匹配字符的**结束**。  

例如，要匹配单词 `"JavaScript"` ，可以使用正则表达式 `/^JavaScript$/` 。  

如果想匹配 `"Java"` 这个单词本身 (不像在 `"JavaScript"` 中作为单词的前缀)，  
可以使用正则表达式 `/\sJava\s/`，可以匹配前后都有空格的单词 `"Java"` 。  

但是这样做有两个问题，  

 - 第一，如果`"Java"` 出现在字符串的**开始**或者**结尾**，就匹配不成功，除非开始和结尾处各有一个空格。  
 - 第二个问题是，当找到了与之匹配的字符串时，它返回的匹配字符串的前端和后端都有空格，这并不是我们想要的。  
 
因此我们使用单词的边界 `\b` 来代替真正的空格符 `\s` 进行匹配 (或定位) 。  
这样正则表达式就写成了 `/\bJava\b/` 。

元素 `\B` 将把匹配的锚点定位在**不是单词的边界之处**。  

因此，正则表达式 `/\B[Ss]cript/` 与 `"JavaScript"` 和 `"postscript"` 匹配，  
但不与 `"script"` 和 `"Scripting"` 匹配。  

任意正则表达式都可以作为锚点条件。  

如果在符号 `"(?="` 和 `")"` 之间加入一个表达式，它就是一个**先行断言**，  
用以说明圆括号内的表达式必须正确匹配，但**并不是真正意义上的匹配**。  

比如，要匹配一种常用的程序设计语言的名字，但只在其后有冒号时才匹配，  
可以使用 `/[Jj]ava([Ss]cript)?(?=\:)/` 。  
这个正则表达式可以匹配 `"JavaScript: The Definitive Guide"` 中的  `"JavaScript"` ，  
但不能匹配 "Java in a Nutshell" 中的 "Java" ，因为它 后面没有冒号。

带有 `"(?!"` 的断言是**负向先行断言**，用以指定接下来的字符都不必匹配。  
例如，`/Java(?!Script)([A-Z]\w*)/` 可以匹配 `"Java"` 后跟随一个大写字母和任意多个 ASCII 单词，   
但`Java` 后面不能跟随 `"Script"` 。  
它可以匹配 `"JavaBeans"` ，但不能匹配 `"Javanese"`；  
它可以匹配 `"JavaScrip"`，但不能匹配 `"JavaScript"`,也不能匹配`"JavaScripter"`。  

表5 正则表达式中的锚字符

<table>
	<thead>
		<tr><th>字符</th><th>含义</th></tr>
	</thead>
	<tbody>
		<tr><td>^</td><td>匹配字符串的开头，在多行检索中，匹配一行的开头</td></tr>
		<tr><td>$</td><td>匹配字符串的结尾，在多行检索中，匹配一行的结尾</td></tr>
		<tr><td>\b</td><td>匹配一个单词的边界，简言之，就是位于字符 \w 和 \W 之间的位置，或位于字符 \w 和字符串的开头或者结尾之间的位置(但需要注意，[\b]匹配的是退格符)</td></tr>
		<tr><td>\B</td><td>匹配非单词边界的位置</td></tr>
		<tr><td>(?=p)</td><td>零宽正向先行断言，要求接下来的字符都与p匹配，但不能包括匹配p的那些字符</td></tr>
		<tr><td>(?!p)</td><td>零宽负向先行断言，要求接下来的字符不与p匹配</td></tr>
	</tbody>
</table>
    
      